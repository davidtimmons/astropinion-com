{"version":3,"sources":["js/template.js"],"names":["$","window","on","instrumentEvents","each","_","element","tag","getAttribute","split","eventTrigger","trackEvent","trigger","toLowerCase","click","submit","mutateTaggedElement","action","category","label","gtag","wrapTrackEvent","trackPageEvents","jQuery","event","collapse","onePageNav","filter","e","full_url","trgt","href","target_top","offset","top","animate","scrollTop","form","isDefaultPrevented","post","val","data","console","log","fadeOut","siblings","show","preventDefault"],"mappings":";AAAAA,EAAEC,QAAQC,GAAG,OAAQ,WAEjB,cAasB,SAASF,GAgCpBG,OAZgB,WACnBH,EAAE,cAAcI,KAAK,SAASC,EAAGC,GACzBC,IAAAA,EAAMD,EAAQE,aAAa,YAAYC,MAAM,MAX/B,SAASH,EAASI,EAAcC,GAClDC,IAAAA,EAAUF,EAAaG,cACX,YAAZD,EACAZ,EAAEM,GAASQ,MAAMH,GACE,aAAZC,GACPZ,EAAEM,GAASS,OAAOJ,GAYlBK,CAAoBV,EALDC,EAAI,GAtBV,SAASU,EAAQC,EAAUC,GACrC,OAAA,WACHC,KAAK,QAASH,EAAQ,CACAC,eAAAA,EACHC,YAAAA,EACG,eAAA,YAsBqBE,CAJ9Bd,EAAI,GACFA,EAAI,GACPA,EAAI,QAS5Be,CAAgBC,OAAhBD,GAsBEtB,EAAE,oBAAoBE,GAAG,QAAS,SAASsB,GACzCxB,EAAE,oBAAoByB,SAAS,UAQnCzB,EAAE,mBAAmB0B,WAAW,CAC5BC,OAAQ,oBAQZ3B,EAAE,8BAA8BE,GAAG,QAAS,SAAS0B,GAE7CC,IAEAC,EAFW,KAAKC,KACCtB,MAAM,KACV,GAEbuB,EADgBhC,EAAE,IAAI8B,GAAMG,SACDC,IAGpB,OADXlC,EAAE,aAAamC,QAAQ,CAACC,UAAUJ,EAAY,IAAK,MACxC,IASfhC,EAAE,oBAAoBI,KAAM,WACpBiC,IAAAA,EAAOrC,EAAE,MAEbqC,EAAKtB,OAAO,SAASa,GACZA,EAAEU,uBACHf,OAAOgB,KAAK,KAAKtB,OAAQ,CACZjB,MAAAA,EAAE,uBAAuBwC,OACnC,SAASC,GACRC,QAAQC,IAAIF,GACZJ,EAAKO,QAAQ,OAAQ,WACjB5C,EAAE,MAAM6C,SAAS,4BAA4BC,WAGrDlB,EAAEmB","file":"template.ff64f5e4.js","sourceRoot":"../src","sourcesContent":["$(window).on('load', function(){\r\n\r\n    'use strict';\r\n\r\n    /* ---- Custom Astropinion Scripts ---- */\r\n\r\n    /* ========================================================== */\r\n    /*  Event Tagging                                             */\r\n    /* ========================================================== */\r\n\r\n    /**\r\n     * Instrument HTML code to track events in Google Tag Manager.\r\n     * Setting the transport method to 'beacon' lets the hit be sent\r\n     * using 'navigator.sendBeacon' in browsers that support it.\r\n     */\r\n    var trackPageEvents = function($) {\r\n        var wrapTrackEvent = function(action, category, label) {\r\n            return function() {\r\n                gtag('event', action, {\r\n                    'event_category': category,\r\n                    'event_label': label,\r\n                    'transport_type': 'beacon',\r\n                });\r\n            };\r\n        };\r\n\r\n        var mutateTaggedElement = function(element, eventTrigger, trackEvent) {\r\n            var trigger = eventTrigger.toLowerCase();\r\n            if (trigger === 'onclick') {\r\n                $(element).click(trackEvent);\r\n            } else if (trigger === 'onsubmit') {\r\n                $(element).submit(trackEvent);\r\n            }\r\n        };\r\n\r\n        var instrumentEvents = function() {\r\n            $('[data-tag]').each(function(_, element) {\r\n                var tag = element.getAttribute('data-tag').split('|');\r\n                var eventTrigger = tag[0];\r\n                var action = tag[1];\r\n                var category = tag[2];\r\n                var label = tag[3];\r\n\r\n                mutateTaggedElement(element, eventTrigger, wrapTrackEvent(action, category, label));\r\n            });\r\n        }\r\n\r\n        return instrumentEvents;\r\n    }\r\n\r\n    trackPageEvents(jQuery)();\r\n\r\n\r\n    /* ----  Default Template Scripts ---- */\r\n\r\n    /* ========================================================== */\r\n    /*   Navigation Background Color                              */\r\n    /* ========================================================== */\r\n    \r\n    // $(window).on('scroll', function() {\r\n    // \tif($(this).scrollTop() > 200) {\r\n    // \t\t$('.navbar-fixed-top').addClass(['theme-light']);\r\n    // \t} else {\r\n    // \t\t$('.navbar-fixed-top').removeClass(['theme-light']);\r\n    // \t}\r\n    // });\r\n \r\n    \r\n    /* ========================================================== */\r\n    /*   Hide Responsive Navigation On-Click                      */\r\n    /* ========================================================== */\r\n    \r\n      $('.navbar-nav li a').on('click', function(event) {\r\n        $('.navbar-collapse').collapse('hide');\r\n      });\r\n\r\n    \r\n    /* ========================================================== */\r\n    /*   Navigation Color                                         */\r\n    /* ========================================================== */\r\n    \r\n    $('#navbarCollapse').onePageNav({\r\n        filter: ':not(.external)'\r\n    });\r\n\r\n\r\n    /* ========================================================== */\r\n    /*   SmoothScroll                                             */\r\n    /* ========================================================== */\r\n    \r\n    $('.navbar-nav li a, a.scrool').on('click', function(e) {\r\n        \r\n        var full_url = this.href;\r\n        var parts = full_url.split('#');\r\n        var trgt = parts[1];\r\n        var target_offset = $('#'+trgt).offset();\r\n        var target_top = target_offset.top;\r\n        \r\n        $('html,body').animate({scrollTop:target_top -70}, 1000);\r\n            return false;\r\n        \r\n    });\r\n\r\n\r\n    /* ========================================================== */\r\n    /*   Newsletter                                               */\r\n    /* ========================================================== */\r\n    \r\n    $('.newsletter-form').each( function(){\r\n        var form = $(this);\r\n        //form.validate();\r\n        form.submit(function(e) {\r\n            if (!e.isDefaultPrevented()) {\r\n                jQuery.post(this.action, {\r\n                    'email': $('input[name=\"EMAIL\"]').val(),\r\n                }, function(data){\r\n                    console.log(data);\r\n                    form.fadeOut('fast', function() {\r\n                        $(this).siblings('p.newsletter_success_box').show();\r\n                    });\r\n                });\r\n                e.preventDefault();\r\n            }\r\n        });\r\n    });\t\t\r\n    \r\n\r\n    /* ========================================================== */\r\n    /*   Register                                                 */\r\n    /* ========================================================== */\r\n    \r\n    // $('#register-form').each( function(){\r\n    // \tvar form = $(this);\r\n    // \t//form.validate();\r\n    // \tform.submit(function(e) {\r\n    // \t\tif (!e.isDefaultPrevented()) {\r\n    // \t\t\tjQuery.post(this.action,{\r\n    // \t\t\t\t'names':$('input[name=\"register_names\"]').val(),\r\n    // \t\t\t\t'phone':$('input[name=\"register_phone\"]').val(),\r\n    // \t\t\t\t'email':$('input[name=\"register_email\"]').val(),\r\n    // \t\t\t\t'ticket':$('select[name=\"register_ticket\"]').val(),\r\n    // \t\t\t},function(data){\r\n    // \t\t\t\tform.fadeOut('fast', function() {\r\n    // \t\t\t\t\t$(this).siblings('p.register_success_box').show();\r\n    // \t\t\t\t});\r\n    // \t\t\t});\r\n    // \t\t\te.preventDefault();\r\n    // \t\t}\r\n    // \t});\r\n    // })\r\n    \r\n    \r\n    /* ========================================================== */\r\n    /*   Contact                                                  */\r\n    /* ========================================================== */\r\n\r\n    // $('#contact-form').each( function(){\r\n    // \tvar form = $(this);\r\n    // \t//form.validate();\r\n    // \tform.submit(function(e) {\r\n    // \t\tif (!e.isDefaultPrevented()) {\r\n    // \t\t\tjQuery.post(this.action,{\r\n    // \t\t\t\t'names':$('input[name=\"contact_names\"]').val(),\r\n    // \t\t\t\t'subject':$('input[name=\"contact_subject\"]').val(),\r\n    // \t\t\t\t'email':$('input[name=\"contact_email\"]').val(),\r\n    // \t\t\t\t'phone':$('input[name=\"contact_phone\"]').val(),\r\n    // \t\t\t\t'message':$('textarea[name=\"contact_message\"]').val(),\r\n    // \t\t\t},function(data){\r\n    // \t\t\t\tform.fadeOut('fast', function() {\r\n    // \t\t\t\t\t$(this).siblings('p').show();\r\n    // \t\t\t\t});\r\n    // \t\t\t});\r\n    // \t\t\te.preventDefault();\r\n    // \t\t}\r\n    // \t});\r\n    // })\r\n});\r\n"]}