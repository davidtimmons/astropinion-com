{"version":3,"sources":["js/template.js"],"names":["$","window","on","instrumentEvents","each","_","element","tag","getAttribute","split","eventTrigger","trackEvent","trigger","toLowerCase","click","submit","mutateTaggedElement","action","category","label","gtag","wrapTrackEvent","trackPageEvents","jQuery","event","collapse","onePageNav","filter","e","full_url","trgt","href","target_top","offset","top","animate","scrollTop"],"mappings":";AAAAA,EAAEC,QAAQC,GAAG,OAAQ,WAEjB,cAasB,SAASF,GAmCpBG,OAZgB,WACnBH,EAAE,cAAcI,KAAK,SAASC,EAAGC,GACzBC,IAAAA,EAAMD,EAAQE,aAAa,YAAYC,MAAM,MAX/B,SAASH,EAASI,EAAcC,GAClDC,IAAAA,EAAUF,EAAaG,cACX,YAAZD,EACAZ,EAAEM,GAASQ,MAAMH,GACE,aAAZC,GACPZ,EAAEM,GAASS,OAAOJ,GAYlBK,CAAoBV,EALDC,EAAI,GAzBV,SAASU,EAAQC,EAAUC,GACxC,MAAgB,oBAATC,KACA,aAEJ,WACHA,KAAK,QAASH,EAAQ,CACAC,eAAAA,EACHC,YAAAA,EACG,eAAA,YAsBqBE,CAJ9Bd,EAAI,GACFA,EAAI,GACPA,EAAI,QAS5Be,CAAgBC,OAAhBD,GAsBEtB,EAAE,oBAAoBE,GAAG,QAAS,SAASsB,GACzCxB,EAAE,oBAAoByB,SAAS,UAQnCzB,EAAE,mBAAmB0B,WAAW,CAC5BC,OAAQ,oBAQZ3B,EAAE,8BAA8BE,GAAG,QAAS,SAAS0B,GAE7CC,IAEAC,EAFW,KAAKC,KACCtB,MAAM,KACV,GAEbuB,EADgBhC,EAAE,IAAI8B,GAAMG,SACDC,IAGpB,OADXlC,EAAE,aAAamC,QAAQ,CAACC,UAAUJ,EAAY,IAAK,MACxC","file":"template.911f9c7f.js","sourceRoot":"../src","sourcesContent":["$(window).on('load', function(){\n\n    'use strict';\n\n    /* ---- Custom Astropinion Scripts ---- */\n\n    /* ========================================================== */\n    /*  Event Tagging                                             */\n    /* ========================================================== */\n\n    /**\n     * Instrument HTML code to track events in Google Tag Manager.\n     * Setting the transport method to 'beacon' lets the hit be sent\n     * using 'navigator.sendBeacon' in browsers that support it.\n     */\n    var trackPageEvents = function($) {\n        var wrapTrackEvent = function(action, category, label) {\n            if (typeof gtag === 'undefined') {\n                return function() {};\n            }\n            return function() {\n                gtag('event', action, {\n                    'event_category': category,\n                    'event_label': label,\n                    'transport_type': 'beacon',\n                });\n            };\n        };\n\n        var mutateTaggedElement = function(element, eventTrigger, trackEvent) {\n            var trigger = eventTrigger.toLowerCase();\n            if (trigger === 'onclick') {\n                $(element).click(trackEvent);\n            } else if (trigger === 'onsubmit') {\n                $(element).submit(trackEvent);\n            }\n        };\n\n        var instrumentEvents = function() {\n            $('[data-tag]').each(function(_, element) {\n                var tag = element.getAttribute('data-tag').split('|');\n                var eventTrigger = tag[0];\n                var action = tag[1];\n                var category = tag[2];\n                var label = tag[3];\n\n                mutateTaggedElement(element, eventTrigger, wrapTrackEvent(action, category, label));\n            });\n        }\n\n        return instrumentEvents;\n    }\n\n    trackPageEvents(jQuery)();\n\n\n    /* ----  Default Template Scripts ---- */\n\n    /* ========================================================== */\n    /*   Navigation Background Color                              */\n    /* ========================================================== */\n    \n    // $(window).on('scroll', function() {\n    // \tif($(this).scrollTop() > 200) {\n    // \t\t$('.navbar-fixed-top').addClass(['theme-light']);\n    // \t} else {\n    // \t\t$('.navbar-fixed-top').removeClass(['theme-light']);\n    // \t}\n    // });\n \n    \n    /* ========================================================== */\n    /*   Hide Responsive Navigation On-Click                      */\n    /* ========================================================== */\n    \n      $('.navbar-nav li a').on('click', function(event) {\n        $('.navbar-collapse').collapse('hide');\n      });\n\n    \n    /* ========================================================== */\n    /*   Navigation Color                                         */\n    /* ========================================================== */\n    \n    $('#navbarCollapse').onePageNav({\n        filter: ':not(.external)'\n    });\n\n\n    /* ========================================================== */\n    /*   SmoothScroll                                             */\n    /* ========================================================== */\n    \n    $('.navbar-nav li a, a.scrool').on('click', function(e) {\n        \n        var full_url = this.href;\n        var parts = full_url.split('#');\n        var trgt = parts[1];\n        var target_offset = $('#'+trgt).offset();\n        var target_top = target_offset.top;\n        \n        $('html,body').animate({scrollTop:target_top -70}, 1000);\n            return false;\n        \n    });\n\n\n    /* ========================================================== */\n    /*   Newsletter                                               */\n    /* ========================================================== */\n    \n    // $('.newsletter-form').each( function(){\n    //     var form = $(this);\n    //     //form.validate();\n    //     form.submit(function(e) {\n    //         if (!e.isDefaultPrevented()) {\n    //             jQuery.post(this.action, {\n    //                 'email': $('input[name=\"EMAIL\"]').val(),\n    //             }, function(data){\n    //                 console.log(data);\n    //                 form.fadeOut('fast', function() {\n    //                     $(this).siblings('p.newsletter_success_box').show();\n    //                 });\n    //             });\n    //             e.preventDefault();\n    //         }\n    //     });\n    // });\t\t\n    \n\n    /* ========================================================== */\n    /*   Register                                                 */\n    /* ========================================================== */\n    \n    // $('#register-form').each( function(){\n    // \tvar form = $(this);\n    // \t//form.validate();\n    // \tform.submit(function(e) {\n    // \t\tif (!e.isDefaultPrevented()) {\n    // \t\t\tjQuery.post(this.action,{\n    // \t\t\t\t'names':$('input[name=\"register_names\"]').val(),\n    // \t\t\t\t'phone':$('input[name=\"register_phone\"]').val(),\n    // \t\t\t\t'email':$('input[name=\"register_email\"]').val(),\n    // \t\t\t\t'ticket':$('select[name=\"register_ticket\"]').val(),\n    // \t\t\t},function(data){\n    // \t\t\t\tform.fadeOut('fast', function() {\n    // \t\t\t\t\t$(this).siblings('p.register_success_box').show();\n    // \t\t\t\t});\n    // \t\t\t});\n    // \t\t\te.preventDefault();\n    // \t\t}\n    // \t});\n    // })\n    \n    \n    /* ========================================================== */\n    /*   Contact                                                  */\n    /* ========================================================== */\n\n    // $('#contact-form').each( function(){\n    // \tvar form = $(this);\n    // \t//form.validate();\n    // \tform.submit(function(e) {\n    // \t\tif (!e.isDefaultPrevented()) {\n    // \t\t\tjQuery.post(this.action,{\n    // \t\t\t\t'names':$('input[name=\"contact_names\"]').val(),\n    // \t\t\t\t'subject':$('input[name=\"contact_subject\"]').val(),\n    // \t\t\t\t'email':$('input[name=\"contact_email\"]').val(),\n    // \t\t\t\t'phone':$('input[name=\"contact_phone\"]').val(),\n    // \t\t\t\t'message':$('textarea[name=\"contact_message\"]').val(),\n    // \t\t\t},function(data){\n    // \t\t\t\tform.fadeOut('fast', function() {\n    // \t\t\t\t\t$(this).siblings('p').show();\n    // \t\t\t\t});\n    // \t\t\t});\n    // \t\t\te.preventDefault();\n    // \t\t}\n    // \t});\n    // })\n});\n"]}